function updateArrivals(){$(".arrivals-list").removeClass("new").addClass("old"),$.ajax({url:"/update_station_arrivals",data:{id:$(".station").data("station-id")},success:function(){$(".arrivals-list.old").each(function(){var t=$(this).outerHeight();$(this).parent().css("height",t),$(this).addClass("updating");var a=$(this);setTimeout(function(){a.addClass("updated")},1e3)}),setTimeout(function(){$(".arrivals-list-wrap").css("height","auto")},2e3),setTimeout(function(){$(".arrivals-list.old").remove()},3e3)}})}jQuery(document).ready(function(a){a(".get-nearest-link").click(function(){navigator.geolocation&&(a(".nearest-station-wrap").html('<div class="finding-nearest-station">Finding Nearest Station...</div>'),navigator.geolocation.getCurrentPosition(function(t){a.ajax({url:"/find_nearest_station",data:{lat:t.coords.latitude,lng:t.coords.longitude}})},function(t){a(".nearest-station-wrap").html("Unable to find location.")}))}),a(".route-title").click(function(){a(this).parent().hasClass("active")?a(this).parent().removeClass("active"):(a(this).parent().addClass("active"),a("html, body").animate({scrollTop:a(this).offset().top},300))}),a("body").hasClass("station")&&(a.ajax({url:"/display_alerts",data:{id:a(".station").data("station-id")},success:function(){setTimeout(function(){a(".alert-toggle").addClass("loaded")},500)}}),setInterval(updateArrivals,3e4),a(".arrival").click(function(){a(this).toggleClass("active")}))});